<article class="post">
  {{#if (GetNotTopLevel post)}}
    {{#if (Less depth 1)}}
      <a href="{{lookup (GetPostById (lookup post "parent_id") user) "human_readable_url"}}">â†‘ parent</a>
    {{/if}}
  {{/if}}
  <details open="first-time" class="post">
    <summary>
      {{> post_header depth=depth post=post user=user url=url}}
    </summary>
    <div>
      <!-- TODO: The collapsed prompt to edit if (GetEditable post ../user), given post_id,content,rights. -->
      <div class="content">{{{(GetContent post)}}}</div>
      {{#if (Less depth 1)}}
        {{> post_new_child depth=depth post=post user=user url=url}}
        {{#if (Less 1 (GetPostChildrenLength post))}}
          <div class="btn-group children-pagination">
            {{#each (Pages page (GetPostChildrenLength post))}}
              <a href="{{../url}}/{{this}}" class="btn btn-sm {{#if (Equal this ../page)}}btn-outline-dark disabled{{else}}btn-outline-primary{{/if}}">{{Plus1 this}}</a>
            {{/each}}
          </div>
        {{/if}}
        {{#each (GetPostChildren post ../user ../page)}}
          <!-- TODO: Sort children by post_reward. -->
          {{> one_post depth=(Plus1 ../depth) max_depth=../max_depth post=this user=../user page=0 url=../url}}
        {{/each}}
      {{/if}}
    </div>
  </details>
</article>
<!-- TODO: Write down all other visual components that we want. -->
<!--   ...Is that basically all we want, apart from user-specific stuff? ...Maybe said user-specific stuff should be in the post-viewer, detected when viewing the user's first post... -->